<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Disciplina RPG</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="icon-192.png" />
  <meta name="theme-color" content="#ff00de" />
</head>
<body>

<h1>Disciplina RPG by Alexander Alvarez</h1>

<div id="login-container">
  <label for="username">Nombre de usuario:</label>
  <input type="text" id="username" placeholder="Tu nombre" />
  <button id="btnLogin">Entrar</button>
</div>

<div id="app" style="display:none;">

  <section id="misiones-container">
    <h3>Misi√≥n diaria</h3>
    <div id="misionDiaria"></div>
    <button id="btnCompletarMision">Completar misi√≥n</button>
  </section>

  <section id="actividad-container">
    <label for="actividad">Selecciona actividad:</label>
    <select id="actividad">
      <option value="fuerza">Ejercicio f√≠sico (+30 XP / +10 cr√©ditos)</option>
      <option value="inteligencia">Ingl√©s (+25 XP / +10 cr√©ditos)</option>
      <option value="sabiduria">Programaci√≥n (+30 XP / +10 cr√©ditos)</option>
      <option value="lenguaje">Chino mandar√≠n (+15 XP / +5 cr√©ditos)</option>
      <option value="carisma">Videojuegos (-20 cr√©ditos / +10 XP)</option>
    </select>
    <button id="btnRegistrarActividad">Registrar</button>

    <!-- üß† Bot√≥n para el √Årbol de Habilidades -->
    <button id="btnVerHabilidades">üß† √Årbol de Habilidades</button>

    <!-- Contenedor del √°rbol -->
    <div id="contenedorHabilidades" style="display: none; margin-top: 20px;">
      <h3>√Årbol de Habilidades</h3>
      <svg id="skillMap" width="100%" height="300px"></svg>
      <button onclick="cerrarArbol()">Cerrar</button>
    </div>
  </section>

  <section id="stats-container">
    <h3>Estad√≠sticas</h3>
    <div>Cr√©ditos: <span id="creditos">0</span></div>
    <div>XP: <span id="xpActual">0</span> / <span id="xpNecesario">100</span></div>
    <div>Nivel: <span id="nivel">1</span></div>
    <div>Fuerza: <span id="fuerza">1</span></div>
    <div>Inteligencia: <span id="inteligencia">1</span></div>
    <div>Sabidur√≠a: <span id="sabiduria">1</span></div>
    <div>Lenguaje: <span id="lenguaje">1</span></div>
    <div>Carisma: <span id="carisma">1</span></div>
  </section>

  <section id="log-container">
    <h3>Registro de actividades</h3>
    <ul id="logList"></ul>
  </section>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<!-- JS personalizados -->
<script src="js/firebase-config.js"></script>
<script src="js/auth.js"></script>
<script src="js/misiones.js"></script>
<script src="js/actividades.js"></script>
<script src="js/ui.js"></script>
<script src="js/habilidades.js"></script>

<!-- Service Worker -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js')
      .then(reg => console.log('‚úÖ Service Worker registrado:', reg))
      .catch(err => console.error('‚ùå Error en el Service Worker:', err));
  }
</script>

</body>
</html>
